<!DOCTYPE html>
<html lang="sr">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Admin kontrolna tabla - MS Sjaj</title>
      <link rel="stylesheet" href="styles.css">
      <!-- Quill Editor -->
      <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
      <link rel="icon" href="./favicon.ico">
      <link rel="icon" type="image/png" sizes="32x32" href="./favicon-32.png">
      <style>
         /* Dual Language Form Styling  */
         .language-tabs {
         display: flex;
         gap: 0.5rem;
         margin-bottom: 1rem;
         border-bottom: 2px solid var(--border-color);
         }
         .language-tab {
         padding: 0.75rem 1.5rem;
         background: none;
         border: none;
         cursor: pointer;
         font-weight: 600;
         color: var(--text-light);
         border-bottom: 3px solid transparent;
         transition: all 0.3s;
         }
         .language-tab.active {
         color: var(--primary-color);
         border-bottom-color: var(--primary-color);
         }
         .language-tab:hover {
         color: var(--primary-color);
         }
         .lang-section {
         display: none;
         }
         .lang-section.active {
         display: block;
         }
         .dual-lang-group {
         background: var(--bg-light);
         padding: 1.5rem;
         border-radius: 8px;
         margin-bottom: 1.5rem;
         }
         .lang-flag {
         font-size: 1.2rem;
         margin-right: 0.5rem;
         }
      </style>
   </head>
   <body>
      <div class="admin-layout">
         <!-- Sidebar -->
         <aside class="admin-sidebar">
            <div class="sidebar-header">
               <h2>MS Sjaj Admin</h2>
               <!-- Close button (Mobile only) -->
               <button class="sidebar-close" onclick="toggleAdminSidebar()">&times;</button>
            </div>
            <nav class="sidebar-nav">
               <div class="nav-item active" data-section="dashboard-section">
                  <span>üìä</span> Kontrolna tabla
               </div>
               <div class="nav-item" data-section="home-section">
                  <span>üè†</span> Poƒçetna
               </div>
               <div class="nav-item" data-section="slideshow-section">
                  <span>üñºÔ∏è</span> Slideshow
               </div>
               <div class="nav-item" data-section="services-section">
                  <span>üíº</span> Usluge
               </div>
               <div class="nav-item" data-section="features-section">
                  <span>‚≠ê</span> Karakteristike
               </div>
               <div class="nav-item" data-section="addons-section">
                  <span>‚ûï</span> Dodatne usluge
               </div>
               <div class="nav-item" data-section="about-section">
                  <span>‚ÑπÔ∏è</span> O nama
               </div>
               <div class="nav-item" data-section="testimonials-section">
                  <span>‚≠ê</span> Recenzije
               </div>
               <div class="nav-item" data-section="gallery-section">
                  <span>üì∏</span> Galerija
               </div>
               <div class="nav-item" data-section="contact-section">
                  <span>üìû</span> Kontakt
               </div>
               <div class="nav-item" data-section="theme-section">
                  <span>üé®</span> Tema
               </div>
            </nav>
            <div class="sidebar-footer">
               <button id="logoutBtn" class="btn btn-secondary btn-block">Odjavi se</button>
            </div>
         </aside>
         <!-- Sidebar Overlay (Mobile) -->
         <div class="sidebar-overlay" onclick="toggleAdminSidebar()"></div>
         <!-- Main Content -->
         <main class="admin-main">
            <header class="admin-header">
               <!-- Hamburger Menu (Mobile Only) -->
               <button class="admin-hamburger" onclick="toggleAdminSidebar()">
               <span></span>
               <span></span>
               <span></span>
               </button>
               <h1 id="adminContent">Kontrolna tabla</h1>
               <div class="admin-user">
                  <span>üë§ Admin</span>
               </div>
            </header>
            <div class="dashboard-content">
               <!-- ‚ú® Dashboard Overview with Card Grid -->
               <div id="dashboard-section" class="content-section active">
                  <div class="dashboard-overview">
                     <div class="dashboard-header-section">
                        <h2>Pregled</h2>
                        <p class="dashboard-subtitle">Dobrodo≈°li u admin kontrolnu tablu MS Sjaj</p>
                     </div>
                     <div class="quick-actions-grid">
                        <!-- Card 1: Uredi poƒçetnu -->
                        <div class="action-card" data-section="home-section" tabindex="0" role="button">
                           <div class="card-icon">
                              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                 <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                                 <polyline points="9 22 9 12 15 12 15 22"></polyline>
                              </svg>
                           </div>
                           <h3>Uredi poƒçetnu</h3>
                           <p>Izmeni sadr≈æaj poƒçetne stranice</p>
                        </div>
                        <!-- Card 2: Uredi slideshow -->
                        <div class="action-card" data-section="slideshow-section" tabindex="0" role="button">
                           <div class="card-icon">
                              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                 <rect x="2" y="2" width="20" height="20" rx="2"></rect>
                                 <line x1="7" y1="2" x2="7" y2="22"></line>
                                 <line x1="17" y1="2" x2="17" y2="22"></line>
                                 <line x1="2" y1="12" x2="22" y2="12"></line>
                              </svg>
                           </div>
                           <h3>Uredi slideshow</h3>
                           <p>Upravljaj slikama u slideshow-u</p>
                        </div>
                        <!-- Card 3: Uredi usluge -->
                        <div class="action-card" data-section="services-section" tabindex="0" role="button">
                           <div class="card-icon">
                              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                 <path d="M20.2 7.8l-7.7 7.7-4-4-5.7 5.7"></path>
                                 <path d="M15 7h6v6"></path>
                              </svg>
                           </div>
                           <h3>Uredi usluge</h3>
                           <p>Dodaj ili izmeni usluge ƒçi≈°ƒáenja</p>
                        </div>
                        <!-- Card 4: Karakteristike -->
                        <div class="action-card" data-section="features-section" tabindex="0" role="button">
                           <div class="card-icon">
                              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                 <polygon points="12 2 15 8 22 9 17 14 18 21 12 18 6 21 7 14 2 9 9 8"></polygon>
                              </svg>
                           </div>
                           <h3>Karakteristike</h3>
                           <p>Upravljaj karakteristikama sajta</p>
                        </div>
                        <!-- Card 5: Dodatne usluge -->
                        <div class="action-card" data-section="addons-section" tabindex="0" role="button">
                           <div class="card-icon">
                              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                 <circle cx="12" cy="12" r="10"></circle>
                                 <line x1="12" y1="8" x2="12" y2="16"></line>
                                 <line x1="8" y1="12" x2="16" y2="12"></line>
                              </svg>
                           </div>
                           <h3>Dodatne usluge</h3>
                           <p>Dodaj ili izmeni dodatne usluge</p>
                        </div>
                        <!-- Card 6: O nama -->
                        <div class="action-card" data-section="about-section" tabindex="0" role="button">
                           <div class="card-icon">
                              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                 <circle cx="12" cy="7" r="4"></circle>
                                 <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                              </svg>
                           </div>
                           <h3>O nama</h3>
                           <p>Izmeni informacije o kompaniji</p>
                        </div>
                        <!-- Card 7: Recenzije -->
                        <div class="action-card" data-section="testimonials-section" tabindex="0" role="button">
                           <div class="card-icon">
                              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                 <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                              </svg>
                           </div>
                           <h3>Recenzije</h3>
                           <p>Upravljaj korisniƒçkim recenzijama</p>
                        </div>
                        <!-- Card 8: Galerija -->
                        <div class="action-card" data-section="gallery-section" tabindex="0" role="button">
                           <div class="card-icon">
                              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                 <rect x="3" y="3" width="18" height="18" rx="2"></rect>
                                 <circle cx="8.5" cy="8.5" r="1.5"></circle>
                                 <polyline points="21 15 16 10 5 21"></polyline>
                              </svg>
                           </div>
                           <h3>Galerija</h3>
                           <p>Upravljaj galerijom fotografija</p>
                        </div>
                        <!-- Card 9: Kontakt -->
                        <div class="action-card" data-section="contact-section" tabindex="0" role="button">
                           <div class="card-icon">
                              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                 <path d="M22 16.92v3a2 2 0 0 1-2.18 2
                                    19.79 19.79 0 0 1-8.63-3.07
                                    19.5 19.5 0 0 1-6-6
                                    19.79 19.79 0 0 1-3.07-8.63
                                    A2 2 0 0 1 4.11 2h3
                                    a2 2 0 0 1 2 1.72
                                    12.44 12.44 0 0 0 .7 2.81
                                    2 2 0 0 1-.45 2.11L8.09 9.91
                                    a16 16 0 0 0 6 6l1.27-1.27
                                    a2 2 0 0 1 2.11-.45
                                    12.44 12.44 0 0 0 2.81.7
                                    A2 2 0 0 1 22 16.92z"/>
                              </svg>
                           </div>
                           <h3>Kontakt</h3>
                           <p>Izmeni kontakt informacije</p>
                        </div>
                        <!-- Card 10: Tema -->
                        <div class="action-card" data-section="theme-section" tabindex="0" role="button">
                           <div class="card-icon">
                              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                 <path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"></path>
                              </svg>
                           </div>
                           <h3>Tema</h3>
                           <p>Prilagodi boje i izgled sajta</p>
                        </div>
                     </div>
                  </div>
               </div>
               <!-- Edit Home Page - DUAL LANGUAGE -->
               <div id="home-section" class="content-section">
                  <div class="dashboard-section">
                     <h2>Uredi poƒçetnu stranicu</h2>
                     <form class="cms-form">
                        <!-- Language Tabs -->
                        <div class="language-tabs">
                           <button type="button" class="language-tab active" onclick="switchLang(event, 'sr')">
                           üá∑üá∏ Srpski
                           </button>
                           <button type="button" class="language-tab" onclick="switchLang(event, 'en')">
                           üá¨üáß English
                           </button>
                        </div>
                        <!-- Serbian Content -->
                        <div class="lang-section active" data-lang="sr">
                           <div class="dual-lang-group">
                              <div class="form-group">
                                 <label for="heroHeading_sr">Glavni naslov</label>
                                 <input type="text" id="heroHeading_sr" placeholder="Profesionalne usluge ƒçi≈°ƒáenja...">
                              </div>
                              <div class="form-group">
                                 <label for="heroText_sr">Tekst opisa</label>
                                 <textarea id="heroText_sr" rows="3" placeholder="Pru≈æamo vrhunske usluge ƒçi≈°ƒáenja..."></textarea>
                              </div>
                           </div>
                        </div>
                        <!-- English Content -->
                        <div class="lang-section" data-lang="en">
                           <div class="dual-lang-group">                           
                              <div class="form-group">
                                 <label for="heroHeading_en">Main Heading</label>
                                 <input type="text" id="heroHeading_en" placeholder="Professional cleaning services...">
                              </div>
                              <div class="form-group">
                                 <label for="heroText_en">Description Text</label>
                                 <textarea id="heroText_en" rows="3" placeholder="We provide premium cleaning services..."></textarea>
                              </div>
                           </div>
                        </div>
                        <button type="button" id="saveHomeBtn" onclick="saveHomeContent()" class="btn btn-primary">Saƒçuvaj izmene</button>
                     </form>
                  </div>
               </div>
               <!-- Slideshow Management Section -->
               <div id="slideshow-section" class="content-section">
                  <div class="dashboard-section">
                     <h2>Upravljanje Slideshow-om</h2>
                     <p>Dodajte slike za pozadinski slideshow na poƒçetnoj stranici.</p>
                     <button onclick="document.getElementById('slideshowInput').click()" class="btn btn-primary" style="margin-bottom: 2rem;">
                     <span>üì§</span> Dodaj sliku u slideshow
                     </button>
                     <input type="file" id="slideshowInput" accept="image/*" style="display: none;">
                     <div id="slideshowAdmin" class="photo-gallery">
                        <p>Uƒçitavanje slideshow slika...</p>
                     </div>
                  </div>
               </div>
               <!-- Edit Services - DUAL LANGUAGE -->
               <div id="services-section" class="content-section">
                  <div class="dashboard-section">
                     <h2>Uredi usluge</h2>
                     <button onclick="showServiceModal()" class="btn btn-primary" style="margin-bottom: 1rem;">Dodaj novu uslugu</button>
                     <div id="servicesList">
                        <p>Uƒçitavanje usluga...</p>
                     </div>
                  </div>
               </div>
               <!-- Features Section -->
               <div id="features-section" class="content-section">
                  <div class="dashboard-section">
                     <h2>‚≠ê Karakteristike (Za≈°to izabrati nas)</h2>
                     <div id="featuresContainer"></div>
                     <div style="margin-top: 1.5rem;">
                        <button onclick="addFeature()" class="btn btn-secondary">
                        ‚ûï Dodaj karakteristiku
                        </button>
                        <button onclick="saveHomeContent()" class="btn btn-primary">
                        üíæ Saƒçuvaj izmene
                        </button>
                     </div>
                  </div>
               </div>
               <!-- Edit Add-ons - DUAL LANGUAGE -->
               <div id="addons-section" class="content-section">
                  <div class="dashboard-section">
                     <h2>Uredi dodatne usluge</h2>
                     <button onclick="showAddOnModal()" class="btn btn-primary" style="margin-bottom: 1rem;">Dodaj novu dodatnu uslugu</button>
                     <div id="addonsList">
                        <p>Uƒçitavanje dodatnih usluga...</p>
                     </div>
                  </div>
               </div>
               <!-- Edit About Page - DUAL LANGUAGE -->
               <div id="about-section" class="content-section">
                  <div class="dashboard-section">
                     <h2>Uredi O nama stranicu</h2>
                     <form class="cms-form">
                        <!-- Language Tabs -->
                        <div class="language-tabs">
                           <button type="button" class="language-tab active" onclick="switchLang(event, 'sr')">
                           üá∑üá∏ Srpski
                           </button>
                           <button type="button" class="language-tab" onclick="switchLang(event, 'en')">
                           üá¨üáß English
                           </button>
                        </div>
                        <!-- Serbian Content -->
                        <div class="lang-section active" data-lang="sr">
                           <div class="dual-lang-group">
                        
                              <div class="form-group">
                                 <label for="aboutHeading_sr">Naslov</label>
                                 <input type="text" id="aboutHeading_sr" placeholder="Posveƒáeni kvalitetu od 2015. godine">
                              </div>
                              <div class="form-group">
                                 <label for="aboutText_sr">Tekst</label>
                                 <textarea id="aboutText_sr" rows="5" placeholder="Osnovani 2015. godine..."></textarea>
                              </div>
                           </div>
                        </div>
                        <!-- English Content -->
                        <div class="lang-section" data-lang="en">
                           <div class="dual-lang-group">
                           
                              <div class="form-group">
                                 <label for="aboutHeading_en">Heading</label>
                                 <input type="text" id="aboutHeading_en" placeholder="Committed to Quality Since 2015">
                              </div>
                              <div class="form-group">
                                 <label for="aboutText_en">Text</label>
                                 <textarea id="aboutText_en" rows="5" placeholder="Founded in 2015..."></textarea>
                              </div>
                           </div>
                        </div>
                        <!-- Stats Section -->
                        <div class="dual-lang-group" style="margin-top: 2rem;">
                           <h3>üìä Statistike (500+, 10 godina, itd.)</h3>
                           <p style="color: var(--text-light); margin-bottom: 1rem;">
                              Ove brojke se prikazuju na O nama stranici kao "stat boxes"
                           </p>
                           <div id="statsContainer"></div>
                           <button type="button" onclick="addStat()" class="btn btn-secondary" style="margin-top: 1rem;">
                           ‚ûï Dodaj statistiku
                           </button>
                        </div>
                        <!-- Reasons Section -->
                        <div class="dual-lang-group" style="margin-top: 2rem;">
                           <h3>‚≠ê Razlozi (Za≈°to izabrati MS Sjaj?)</h3>
                           <p style="color: var(--text-light); margin-bottom: 1rem;">
                              Ovi razlozi se prikazuju na poƒçetnoj i O nama stranici
                           </p>
                           <div id="reasonsContainer"></div>
                           <button type="button" onclick="addReason()" class="btn btn-secondary" style="margin-top: 1rem;">
                           ‚ûï Dodaj razlog
                           </button>
                        </div>
                        <button type="button" id="saveAboutBtn" onclick="saveAboutContent()" class="btn btn-primary" style="margin-top: 2rem;">
                        üíæ Saƒçuvaj sve izmene
                        </button>
                     </form>
                  </div>
               </div>
               <!-- Testimonials - DUAL LANGUAGE -->
               <div id="testimonials-section" class="content-section">
                  <div class="dashboard-section">
                     <h2>Recenzije kupaca</h2>
                     <button onclick="showTestimonialModal()" class="btn btn-primary" style="margin-bottom: 1rem;">Dodaj novu recenziju</button>
                     <div id="testimonialsList" class="testimonials-list">
                        <p>Uƒçitavanje recenzija...</p>
                     </div>
                  </div>
               </div>
               <!-- Photo Gallery -->
               <div id="gallery-section" class="content-section">
                  <div class="dashboard-section">
                     <h2>Galerija fotografija</h2>
                     <input type="file" id="photoInput" accept="image/*" style="display: none;">
                     <button id="uploadPhotoBtn" class="btn btn-primary" style="margin-bottom: 1rem;">Otpremi fotografiju</button>
                     <div id="galleryAdmin" class="photo-gallery">
                        <p>Uƒçitavanje galerije...</p>
                     </div>
                  </div>
               </div>
               <!-- Contact Info -->
               <div id="contact-section" class="content-section">
                  <div class="dashboard-section">
                     <h2>Kontakt informacije</h2>
                     <form class="cms-form">
                        <div class="form-group">
                           <label for="contactPhone">Telefon</label>
                           <input type="tel" id="contactPhone" placeholder="+381 XX XXX XXXX">
                        </div>
                        <div class="form-group">
                           <label for="contactEmail">Email</label>
                           <input type="email" id="contactEmail" placeholder="info@mssjaj.rs">
                        </div>
                        <div class="form-group">
                           <label for="contactAddress">Adresa</label>
                           <input type="text" id="contactAddress" placeholder="Kragujevac, Srbija">
                        </div>
                        <button type="button" id="saveContactBtn" onclick="saveContact()" class="btn btn-primary">Saƒçuvaj izmene</button>
                     </form>
                  </div>
               </div>
               <!-- Theme Settings Section -->
               <div id="theme-section" class="content-section">
                  <div class="dashboard-section">
                     <h2>Pode≈°avanja Tema</h2>
                     <p>Izaberite boje za va≈° sajt. Promene ƒáe biti odmah primenjene na ceo sajt.</p>
                     <form class="cms-form" style="max-width: 700px;">
                        <div class="dual-lang-group">
                           <h3>üé® Glavne Boje</h3>
                           <div class="form-group">
                              <label for="primaryColor">Primarna Boja (Dugmad, Linkovi)</label>
                              <div style="display: flex; gap: 1rem; align-items: center;">
                                 <input type="color" id="primaryColor" value="#f59e0b"
                                    style="width: 80px; height: 50px; border: 2px solid var(--border-color); border-radius: 8px; cursor: pointer;">
                                 <input type="text" id="primaryColorText" value="#f59e0b"
                                    style="flex: 1; font-family: monospace;" readonly>
                                 <button type="button" onclick="resetColor('primary')" class="btn btn-secondary">Reset</button>
                              </div>
                           </div>
                           <div class="form-group">
                              <label for="primaryDark">Tamnija Primarna (Hover Efekat)</label>
                              <div style="display: flex; gap: 1rem; align-items: center;">
                                 <input type="color" id="primaryDark" value="#ea580c"
                                    style="width: 80px; height: 50px; border: 2px solid var(--border-color); border-radius: 8px; cursor: pointer;">
                                 <input type="text" id="primaryDarkText" value="#ea580c"
                                    style="flex: 1; font-family: monospace;" readonly>
                                 <button type="button" onclick="resetColor('primaryDark')" class="btn btn-secondary">Reset</button>
                              </div>
                           </div>
                           <div class="form-group">
                              <label for="secondaryColor">Sekundarna Boja</label>
                              <div style="display: flex; gap: 1rem; align-items: center;">
                                 <input type="color" id="secondaryColor" value="#2d2d2d"
                                    style="width: 80px; height: 50px; border: 2px solid var(--border-color); border-radius: 8px; cursor: pointer;">
                                 <input type="text" id="secondaryColorText" value="#2d2d2d"
                                    style="flex: 1; font-family: monospace;" readonly>
                                 <button type="button" onclick="resetColor('secondary')" class="btn btn-secondary">Reset</button>
                              </div>
                           </div>
                        </div>
                        <div class="dual-lang-group">
                           <h3>üìù Boje Teksta</h3>
                           <div class="form-group">
                              <label for="textDark">Tamni Tekst (Naslovi, Glavni Tekst)</label>
                              <div style="display: flex; gap: 1rem; align-items: center;">
                                 <input type="color" id="textDark" value="#1f2937"
                                    style="width: 80px; height: 50px; border: 2px solid var(--border-color); border-radius: 8px; cursor: pointer;">
                                 <input type="text" id="textDarkText" value="#1f2937"
                                    style="flex: 1; font-family: monospace;" readonly>
                                 <button type="button" onclick="resetColor('textDark')" class="btn btn-secondary">Reset</button>
                              </div>
                           </div>
                           <div class="form-group">
                              <label for="textLight">Svetli Tekst (Opisi, Podnaslov)</label>
                              <div style="display: flex; gap: 1rem; align-items: center;">
                                 <input type="color" id="textLight" value="#6b7280"
                                    style="width: 80px; height: 50px; border: 2px solid var(--border-color); border-radius: 8px; cursor: pointer;">
                                 <input type="text" id="textLightText" value="#6b7280"
                                    style="flex: 1; font-family: monospace;" readonly>
                                 <button type="button" onclick="resetColor('textLight')" class="btn btn-secondary">Reset</button>
                              </div>
                           </div>
                        </div>
                        <div class="dual-lang-group">
                           <h3>üéØ Dodatne Boje</h3>
                           <div class="form-group">
                              <label for="successColor">Boja Uspeha</label>
                              <div style="display: flex; gap: 1rem; align-items: center;">
                                 <input type="color" id="successColor" value="#10b981"
                                    style="width: 80px; height: 50px; border: 2px solid var(--border-color); border-radius: 8px; cursor: pointer;">
                                 <input type="text" id="successColorText" value="#10b981"
                                    style="flex: 1; font-family: monospace;" readonly>
                              </div>
                           </div>
                           <div class="form-group">
                              <label for="bgLight">Svetla Pozadina</label>
                              <div style="display: flex; gap: 1rem; align-items: center;">
                                 <input type="color" id="bgLight" value="#fffbeb"
                                    style="width: 80px; height: 50px; border: 2px solid var(--border-color); border-radius: 8px; cursor: pointer;">
                                 <input type="text" id="bgLightText" value="#fffbeb"
                                    style="flex: 1; font-family: monospace;" readonly>
                              </div>
                           </div>
                        </div>
                        <div class="form-group">
                           <button type="button" onclick="previewTheme()" class="btn btn-secondary" style="margin-right: 1rem;">
                           üëÅÔ∏è Pregled
                           </button>
                           <button type="button" onclick="saveTheme()" class="btn btn-primary" style="margin-right: 1rem;">
                           üíæ Saƒçuvaj Temu
                           </button>
                           <button type="button" onclick="resetAllColors()" class="btn btn-secondary">
                           üîÑ Reset Sve
                           </button>
                        </div>
                     </form>
                     <div class="dual-lang-group" style="margin-top: 2rem;">
                        <h3>üìã Pregled Boja</h3>
                        <div style="background: white; padding: 2rem; border-radius: 12px; box-shadow: var(--shadow-md);">
                           <h3 style="color: var(--text-dark); margin-bottom: 1rem;">Primer Naslova</h3>
                           <p style="color: var(--text-light); margin-bottom: 2rem;">Ovo je primer teksta u svetlijoj boji koji se koristi za opise i
                              podnaslove.
                           </p>
                           <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem;">
                              <div class="btn btn-primary">Primary Button</div>
                              <div class="btn btn-secondary">Secondary Button</div>
                              <div style="padding: 1rem; background: var(--bg-light); border-radius: 8px; text-align: center; color: var(--text-dark);">Light
                                 BG
                              </div>
                              <div style="padding: 1rem; background: var(--success-color); color: white; border-radius: 8px; text-align: center;">Success</div>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </main>
      </div>
      <!-- Service Modal - DUAL LANGUAGE -->
      <div id="serviceModal" class="modal">
         <div class="modal-content" style="max-width: 800px;">
            <div class="modal-header">
               <h2 id="serviceModalTitle">Dodaj uslugu</h2>
               <button class="close-modal" onclick="closeServiceModal()">&times;</button>
            </div>
            <form id="serviceForm">
               <input type="hidden" id="serviceId">
               <!-- Language Tabs -->
               <div class="language-tabs">
                  <button type="button" class="language-tab active" onclick="switchModalLang(event, 'sr')">
                  üá∑üá∏ Srpski
                  </button>
                  <button type="button" class="language-tab" onclick="switchModalLang(event, 'en')">
                  üá¨üáß English
                  </button>
               </div>
               <!-- Serbian Fields -->
               <div class="lang-section active" data-lang="sr">
                  <div class="dual-lang-group">
                     <div class="form-group">
                        <label for="serviceName_sr">Naziv usluge</label>
                        <input type="text" id="serviceName_sr" placeholder="ƒåi≈°ƒáenje Stana" required>
                     </div>
                     <div class="form-group">
                        <label for="serviceDescription_sr">Opis</label>
                        <div id="serviceDescription_sr" style="background: white; min-height: 200px;"></div>
                     </div>
                     <div class="form-group">
                        <label for="servicePrice_sr">Cena</label>
                        <input type="text" id="servicePrice_sr" placeholder="od 3.000 RSD" required>
                     </div>
                  </div>
               </div>
               <!-- English Fields -->
               <div class="lang-section" data-lang="en">
                  <div class="dual-lang-group">                  
                     <div class="form-group">
                        <label for="serviceName_en">Service Name</label>
                        <input type="text" id="serviceName_en" placeholder="Apartment Cleaning" required>
                     </div>
                     <div class="form-group">
                        <label for="serviceDescription_en">Description</label>
                        <div id="serviceDescription_en" style="background: white; min-height: 200px;"></div>
                     </div>
                     <div class="form-group">
                        <label for="servicePrice_en">Price</label>
                        <input type="text" id="servicePrice_en" placeholder="from 3,000 RSD" required>
                     </div>
                  </div>
               </div>
               <div class="modal-actions">
                  <button type="button" class="btn btn-secondary" onclick="closeServiceModal()">Otka≈æi</button>
                  <button type="button" id="saveServiceBtn" onclick="saveService()" class="btn btn-primary">Saƒçuvaj</button>
               </div>
            </form>
         </div>
      </div>
      <!-- Add-on Modal - DUAL LANGUAGE -->
      <div id="addonModal" class="modal">
         <div class="modal-content">
            <div class="modal-header">
               <h2 id="addonModalTitle">Dodaj dodatnu uslugu</h2>
               <button class="close-modal" onclick="closeAddOnModal()">&times;</button>
            </div>
            <form id="addonForm">
               <input type="hidden" id="addonId">
               <!-- Language Tabs -->
               <div class="language-tabs">
                  <button type="button" class="language-tab active" onclick="switchModalLang(event, 'sr')">
                  üá∑üá∏ Srpski
                  </button>
                  <button type="button" class="language-tab" onclick="switchModalLang(event, 'en')">
                  üá¨üáß English
                  </button>
               </div>
               <!-- Serbian -->
               <div class="lang-section active" data-lang="sr">
                  <div class="dual-lang-group">
                     <div class="form-group">
                        <label for="addonName_sr">Naziv</label>
                        <input type="text" id="addonName_sr" placeholder="Pranje Prozora" required>
                     </div>
                     <div class="form-group">
                        <label for="addonDescription_sr">Opis</label>
                        <textarea id="addonDescription_sr" rows="3" placeholder="Profesionalno pranje prozora..." required></textarea>
                     </div>
                     <div class="form-group">
                        <label for="addonPrice_sr">Cena</label>
                        <input type="text" id="addonPrice_sr" placeholder="500 RSD po prozoru" required>
                     </div>
                  </div>
               </div>
               <!-- English -->
               <div class="lang-section" data-lang="en">
                  <div class="dual-lang-group">            
                     <div class="form-group">
                        <label for="addonName_en">Name</label>
                        <input type="text" id="addonName_en" placeholder="Window Washing" required>
                     </div>
                     <div class="form-group">
                        <label for="addonDescription_en">Description</label>
                        <textarea id="addonDescription_en" rows="3" placeholder="Professional window washing..." required></textarea>
                     </div>
                     <div class="form-group">
                        <label for="addonPrice_en">Price</label>
                        <input type="text" id="addonPrice_en" placeholder="500 RSD per window" required>
                     </div>
                  </div>
               </div>
               <div class="modal-actions">
                  <button type="button" class="btn btn-secondary" onclick="closeAddOnModal()">Otka≈æi</button>
                  <button type="button" id="saveAddOnBtn" onclick="saveAddOn()" class="btn btn-primary">Saƒçuvaj</button>
               </div>
            </form>
         </div>
      </div>
      <!-- Testimonial Modal - DUAL LANGUAGE -->
      <div id="testimonialModal" class="modal">
         <div class="modal-content">
            <div class="modal-header">
               <h2>Dodaj/Uredi recenziju</h2>
               <button class="close-modal" onclick="closeTestimonialModal()">&times;</button>
            </div>
            <form id="testimonialForm">
               <input type="hidden" id="testimonialId">
               <div class="form-group">
                  <label for="testimonialAuthor">Ime kupca (universal)</label>
                  <input type="text" id="testimonialAuthor" placeholder="Marija Petroviƒá" required>
               </div>
               <div class="form-group">
                  <label for="testimonialRating">Ocena</label>
                  <select id="testimonialRating" required>
                     <option value="5">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ (5 zvezda)</option>
                     <option value="4">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ (4 zvezde)</option>
                     <option value="3">‚òÖ‚òÖ‚òÖ‚òÜ‚òÜ (3 zvezde)</option>
                  </select>
               </div>
               <!-- Language Tabs -->
               <div class="language-tabs">
                  <button type="button" class="language-tab active" onclick="switchModalLang(event, 'sr')">
                  üá∑üá∏ Srpski
                  </button>
                  <button type="button" class="language-tab" onclick="switchModalLang(event, 'en')">
                  üá¨üáß English
                  </button>
               </div>
               <!-- Serbian -->
               <div class="lang-section active" data-lang="sr">
                  <div class="dual-lang-group">
                     <div class="form-group">
                        <label for="testimonialText_sr">Tekst recenzije</label>
                        <textarea id="testimonialText_sr" rows="4" placeholder="Odliƒçan servis! Veoma sam zadovoljna..." required></textarea>
                     </div>
                  </div>
               </div>
               <!-- English -->
               <div class="lang-section" data-lang="en">
                  <div class="dual-lang-group">
                     <div class="form-group">
                        <label for="testimonialText_en">Review Text</label>
                        <textarea id="testimonialText_en" rows="4" placeholder="Excellent service! Very satisfied..." required></textarea>
                     </div>
                  </div>
               </div>
               <div class="modal-actions">
                  <button type="button" class="btn btn-secondary" onclick="closeTestimonialModal()">Otka≈æi</button>
                  <button type="button" id="saveTestimonialBtn" onclick="saveTestimonial()" class="btn btn-primary">Saƒçuvaj</button>
               </div>
            </form>
         </div>
      </div>
      <!-- Firebase SDK -->
      <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
      <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
      <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
      <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
      <!-- Language Switcher Script -->
      <script>
         // Switch language tabs in sections
         function switchLang(event, lang) {
             const container = event.target.closest('form') || event.target.closest('.dashboard-section');
         
             // Update tab buttons
             container.querySelectorAll('.language-tab').forEach(tab => {
                 tab.classList.remove('active');
             });
             event.target.classList.add('active');
         
             // Show/hide language sections
             container.querySelectorAll('.lang-section').forEach(section => {
                 section.classList.remove('active');
             });
             container.querySelector(`.lang-section[data-lang="${lang}"]`).classList.add('active');
         }
         
         // Switch language tabs in modals
         function switchModalLang(event, lang) {
             const modal = event.target.closest('.modal');
         
             // Update tab buttons
             modal.querySelectorAll('.language-tab').forEach(tab => {
                 tab.classList.remove('active');
             });
             event.target.classList.add('active');
         
             // Show/hide language sections
             modal.querySelectorAll('.lang-section').forEach(section => {
                 section.classList.remove('active');
             });
             modal.querySelector(`.lang-section[data-lang="${lang}"]`).classList.add('active');
         }
      </script>
      <script src="script.js"></script>
      <!-- Theme Loader - INSTANT LOAD WITH LOCALSTORAGE -->
      <script>
         (function() {
             // STEP 1: Apply theme from localStorage IMMEDIATELY (no flash!)
             const cachedTheme = localStorage.getItem('mssjaj_theme');
             if (cachedTheme) {
                 try {
                     const colors = JSON.parse(cachedTheme);
                     applyThemeColors(colors);
                 } catch (e) {
                     console.error('Error parsing cached theme:', e);
                 }
             }
         
             // STEP 2: Update from Firebase in background (for future loads)
             const db = firebase.firestore();
             db.collection('settings').doc('theme').get()
                 .then(doc => {
                     if (doc.exists) {
                         const colors = doc.data();
                         // Save to localStorage for next time
                         localStorage.setItem('mssjaj_theme', JSON.stringify(colors));
                         // Apply colors (in case they changed)
                         applyThemeColors(colors);
                     }
                 })
                 .catch(error => console.error('Error loading theme:', error));
         
             // Helper function to apply colors
             function applyThemeColors(colors) {
                 const root = document.documentElement;
         
                 if (colors.primaryColor) root.style.setProperty('--primary-color', colors.primaryColor);
                 if (colors.primaryDark) root.style.setProperty('--primary-dark', colors.primaryDark);
                 if (colors.secondaryColor) root.style.setProperty('--secondary-color', colors.secondaryColor);
                 if (colors.successColor) root.style.setProperty('--success-color', colors.successColor);
                 if (colors.bgLight) root.style.setProperty('--bg-light', colors.bgLight);
                 if (colors.textDark) root.style.setProperty('--text-dark', colors.textDark);
                 if (colors.textLight) root.style.setProperty('--text-light', colors.textLight);
         
                 if (colors.primaryColor && colors.primaryDark) {
                     root.style.setProperty('--primary-gradient',
                         `linear-gradient(135deg, ${colors.primaryColor} 0%, ${colors.primaryDark} 100%)`);
                 }
             }
         })();
      </script>
      <script>
         // Toggle admin sidebar on mobile
         function toggleAdminSidebar() {
             const sidebar = document.querySelector('.admin-sidebar');
             const overlay = document.querySelector('.sidebar-overlay');
         
             const isActive = sidebar.classList.contains('active');
         
             if (isActive) {
                 // Close sidebar
                 sidebar.classList.remove('active');
                 overlay.classList.remove('active');
                 document.body.style.overflow = '';
             } else {
                 // Open sidebar
                 sidebar.classList.add('active');
                 overlay.classList.add('active');
                 document.body.style.overflow = 'hidden';
             }
         }
         
         // Close sidebar when clicking on nav items (mobile only)
         document.querySelectorAll('.sidebar-nav .nav-item').forEach(item => {
             item.addEventListener('click', function() {
                 if (window.innerWidth <= 768) {
                     // Small delay so user sees the selection before closing
                     setTimeout(() => {
                         const sidebar = document.querySelector('.admin-sidebar');
                         if (sidebar.classList.contains('active')) {
                             toggleAdminSidebar();
                         }
                     }, 200);
                 }
             });
         });
         
         // Close sidebar when clicking logout button (mobile)
         document.getElementById('logoutBtn')?.addEventListener('click', function() {
             if (window.innerWidth <= 768) {
                 const sidebar = document.querySelector('.admin-sidebar');
                 if (sidebar.classList.contains('active')) {
                     toggleAdminSidebar();
                 }
             }
         });
         
         // Close sidebar on window resize if switching from mobile to desktop
         window.addEventListener('resize', function() {
             if (window.innerWidth > 768) {
                 const sidebar = document.querySelector('.admin-sidebar');
                 const overlay = document.querySelector('.sidebar-overlay');
         
                 sidebar.classList.remove('active');
                 overlay.classList.remove('active');
                 document.body.style.overflow = '';
             }
         });
      </script>
      <script>
         document.querySelectorAll('.action-card').forEach(card => {
             card.addEventListener('click', () => {
                 const section = card.dataset.section;
                 document.querySelector(`[data-section="${section}"]`)?.click();
             });
         
             card.addEventListener('keydown', e => {
                 if (e.key === 'Enter' || e.key === ' ') {
                     e.preventDefault();
                     card.click();
                 }
             });
         });
      </script>
      <script>
         document.querySelectorAll('.sidebar-nav .nav-item').forEach(item => {
           item.addEventListener('click', () => {
             const sectionId = item.dataset.section;
         
             // 1. Sidebar active state
             document.querySelectorAll('.sidebar-nav .nav-item')
               .forEach(i => i.classList.remove('active'));
             item.classList.add('active');
         
             // 2. Hide all sections
             document.querySelectorAll('.content-section')
               .forEach(section => section.classList.remove('active'));
         
             // 3. Show target section
             const targetSection = document.getElementById(sectionId);
             if (targetSection) {
               targetSection.classList.add('active');
             } else {
               console.error('Missing section:', sectionId);
             }
         
             // 4. Update header title
             const header = document.getElementById('adminContent');
             if (header) {
               header.textContent = item.innerText.trim();
             }
           });
         });
      </script>
   </body>
</html>
